<xml>
    <include name="${HXCPP}/build-tool/BuildCommon.xml"/>

    <section if="windows">
        <include name="${HXCPP}/toolchain/msvc-toolchain.xml"/>
    </section>

    <section if="macos">
        <set name="HXCPP_CLANG" value="1" />
        <include name="${HXCPP}/toolchain/mac-toolchain.xml"/>
    </section>

    <section if="linux">
        <include name="${HXCPP}/toolchain/linux-toolchain.xml"/>
    </section>

    <files id="spoopy">
        <compilerflag value="-Iinclude"/>
	    <file name="../source/backend/test/Foo.cpp" />
    </files>

    <target id="LIB" output="spoopy-engine" tool="linker" toolid="${STD_MODULE_LINK}">
        <ext value=".ndll" unless="static_link" />

	    <files id="spoopy" />

        <outdir name="../ndll/Mac64" if="macos HXCPP_M64" />
        <outdir name="../ndll/Mac" if="macos HXCPP_M32" />

        <outdir name="../ndll/Windows64" if="windows HXCPP_M64" />
        <outdir name="../ndll/Windows" if="windows HXCPP_M32" />

        <outdir name="../ndll/Linux64" if="linux HXCPP_M64" />
        <outdir name="../ndll/Linux" if="linux HXCPP_M32" />
    </target>

    <target id="default">
	    <target id="LIB" />
    </target>
</xml>